<!DOCTYPE html>
<html>

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

  <title>main_schedule
  </title>
  <style>
    /* CSS Code */
  </style>
</head>

<body>
  <!-- HTML Code -->

  <div class="container flex-column d-flex align-items-center"
    style="position: absolute;width: 228px;  height: 712px;  left: 0px;  top: 0px;  background:#EDFFE1;">
    <div class="p-2 bd-highlight">
      <h1><i class="bi bi-person-lines-fill"></i></h1>
    </div>


    <div class="card" style="width: 200px; height: 60px; background: #CBFFB6;
    border-radius: 100px;">
      <div class="card-body">
        <i class="bi bi-check-circle-fill"></i> 일정 <span class="badge bg-dark"> +100</span>
      </div>
    </div>





    <div class="p-2 "> <button type="button" class="btn btn-light" style="width: 182px;
      height: 40px;"> <i class="bi bi-person-square"></i> &nbsp;&nbsp;마이페이지</button>
    </div>




  </div>
  <div class="container flex-column d-flex align-items-center" style=" display: flex;flex-direction: column;align-items: flex-start;padding: 0px;position: absolute;
  width: 400px;height: 500px;left: 324px;top: 84px;background: #F7FFEE;">


    <div class="input-group input-group-lg">
      <input type="text" class="form-control" aria-label="Sizing example input" placeholder="일정 이름 입력"
        aria-describedby="inputGroup-sizing-lg">
    </div>
    <p></p>

    <div class="input-group">
      <input type="text" class="form-control" aria-label="Sizing example input" placeholder="user id"
        aria-describedby="inputGroup-sizing-lg">
    </div>

    <div class="input-group mt-auto p-2">
      <input type="text" class="form-control" aria-label="Sizing example input" placeholder="비밀키 입력"
        aria-describedby="inputGroup-sizing-lg">
    </div>

  </div>

  <div class="container d-flex align-items-center justify-content-between" style="position: absolute;width: 400px;height: 100px;left: 1000px;top: 100px;background: #F7FFEE;
  border: 1px solid #CAC4D0;border-radius: 12px;">

    <h1><i class="bi bi-person-circle"></i></h1>&nbsp;&nbsp;
    <div>
      <strong>사용자이름</strong>
      <p>

      </p>
      <p>
        사용자id
      </p>
    </div>
    <div class="justify-content-end">
      <button id = "logout-button" type="button" class="btn btn-primary">로그아웃</button>
      <script>
        var logout_button = document.getElementById("logout-button");
        logout_button.addEventListener("click", function(){
          axios({
            method : "get",
            url:"/logout"
          }).then(function (req){
            //TODO : Check whether cookie has successfully deleted
            console.log("successfully logout");
            location.href='/login';
          }).catch(function (req){
            console.log("Error on logout")
          });
        })
      </script>
      <script>
        $("#logout-button").validate({
          submitHandler: (form) => {
            $.ajax({
              url: "login",
              method: "POST",
              dataType: "json",
              data: {
                uid: $(form).find('#uid').val(),
                password: $(form).find('#password').val(),
              },
              success: (res) => {
                if (res.accessToken) {
                  document.cookie = `token=${res.accessToken}`;
                  document.cookie = `uid = ${res.uid}`;
                  window.location.href = '/user';
                }
              }
            })
          }
        });
      </script>
    </div>

  </div>





  <button type="button" class="btn btn-lg btn-primary"
    style="position: absolute; width: 140px;height: 50px;left: 1212px;top: 520px;">일정생성</button>

  <script>
    /* JS Code */
  </script>
</body>

</html>